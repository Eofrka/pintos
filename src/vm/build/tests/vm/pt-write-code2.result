FAIL
Kernel panic in run: PANIC at ../../threads/synch.c:240 in lock_acquire(): assertion `!lock_held_by_current_thread (lock)' failed.
Call stack: 0xc01079cc 0xc0103272 0xc010b2cd 0xc01099d5 0xc0101238 0xc010b6af 0xc010b045 0xc0101e0d 0xc0101f3f 0xc010b216 0xc010b76e 0xc010b9f3 0xc0101e0d 0xc0101f3f 0x804a165 0x80480e7 0x8048750 0x8048784
Translation of call stack:
In kernel.o:
0xc01079cc: debug_panic (.../../lib/kernel/debug.c:34)
0xc0103272: lock_acquire (...../../threads/synch.c:245)
0xc010b2cd: syscall_close (...../userprog/syscall.c:373)
0xc01099d5: process_exit (...../userprog/process.c:305)
0xc0101238: thread_release_locks (..../../threads/thread.c:774)
0xc010b6af: syscall_read (...../userprog/syscall.c:232)
0xc010b045: page_fault (.../userprog/exception.c:241)
0xc0101e0d: intr_handler (..../threads/interrupt.c:361)
0xc0101f3f: intr_entry (threads/intr-stubs.S:38)
0xc010b216: put_user (.../../userprog/syscall.c:56)
0xc010b76e: syscall_read (...../userprog/syscall.c:274)
0xc010b9f3: syscall_handler (...../userprog/syscall.c:483)
0xc0101e0d: intr_handler (..../threads/interrupt.c:361)
0xc0101f3f: intr_entry (threads/intr-stubs.S:38)
In tests/vm/pt-write-code2:
0x0804a165: read (...../lib/user/syscall.c:117)
0x080480e7: test_main (...s/vm/pt-write-code-2.c:14)
0x08048750: main (...ild/../../tests/main.c:13)
0x08048784: _start (.../../../lib/user/entry.c:9)
Translations of user virtual addresses above are based on a guess at
the binary to use.  If this guess is incorrect, then those
translations will be misleading.
